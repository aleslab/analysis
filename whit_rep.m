

fileToLoad = uigetfile; load(fileToLoad);
[sortedData] = organizeData(sessionInfo,experimentData);


iCond = 2; %When you have only 1 condition
respOri = [sortedData(iCond).trialData(:).respOri];
stimOri = [sortedData(iCond).trialData(:).stimOri];

%con1 con datarespOri=[-135.157651342172;-36.3084617325242;161.873984037516;31.4558147868638;-163.423616426310;33.1898408806837;50.3859009984141;-71.4447238688039;53.1647480870559;-56.8667679026921;-94.9122470994755;-57.1202608781917;-72.1593239895852;163.012199569328;155.854316083420;88.4450090048795;-132.315725153501;6.19209983500191;-55.7573412752401;55.0454438027678;118.026589709095;-49.6728564935903;-127.733326916498;167.346505965354;63.2063789089800;-135.627819543564;172.101593787208;-84.3392227893394;-56.7426797559459;-126.451868988461;-56.6585288680703;-103.569435091988;99.2158706459802;126.808459583062;-104.212191899423;164.549850607942;8.88764218543543;94.5975709751439;-162.597693806303;25.3917169143666;-85.9722984395500;-58.6052997611424;-151.358704628478;37.8626013965691;133.032220320324;-166.584772128806;-173.569629456228;-140.489166599055;-113.894432751988;-48.4812586338908;-46.5779375299444;-15.2780177261198;93.4452134621199;69.8937841601571;-58.0464271442984;-126.118900463273;-83.7904331850197;-130.325456684338;141.097770051575;134.739249887831;156.231006838897;-179.313060797210;-113.280620096976;166.451470997624;24.4094581887076;150.236769293681;117.290924018044;42.9944066160502;-125.681704080774;127.731393594536];
%stimOri= [-133.726135314176;-37.5793270078947;170.957436909663;-146.548638035418;14.7988563265713;-135.346546772659;-127.639283585590;114.717458045727;54.8271245795877;-71.0537276146154;-90.5658887435975;-56.3727247840282;104.514439042519;159.504409569032;-11.2593166747190;-94.1285667182137;63.8777032272633;12.5656785841009;-60.0972672224095;-115.663216304994;117.094162085780;-67.9150354141789;57.0317087636084;-20.2401696866596;71.0683562680199;-138.862148517074;-10.1045617536096;-84.0242065550427;-56.9762024362897;-125.450325678943;118.842687533036;80.3604961611449;84.9453151819671;120.945421829700;-101.919638169151;-16.3578481419659;-167.909829590505;-82.9698545881574;22.3447242084029;-163.958770408479;100.132135070508;-52.4248166112103;-146.302261244434;36.4479573335638;-57.4455060294073;-172.616941435276;-167.993574309446;-124.678245616274;69.1901559709711;132.184537909631;-65.3973231364230;151.800865797174;99.1407842044104;73.1210674019426;-67.0480401852295;53.9292337033883;87.4702701002214;-142.482240852436;-41.9638137547605;-47.5409899589843;152.820457319601;-168.188448916150;37.3217143295772;-10.2586460986114;-158.181053280193;154.332404589219;-68.6520801925313;-156.780947940843;58.9048808509388;-56.2318003502186];
RO_initial_time_point=0;

    for i=  2:length(respOri);
        %respOri(i)=stimOri(i);
        
        %err(i) = minAngleDiff(respOri, stimOri);
        err(i) = minAngleDiff(respOri(i), stimOri(i));
        RO(i) = minAngleDiff(stimOri(i-1), stimOri(i));
%         if abs (RO(i)) > 180;
%             RO(i)=360+RO(i);
%         else
%             
%             RO(i)=360-RO(i);
%         end
%         %RO = RO - 360*sign(RO);
%         %end
%         elseif RO<180
%             RO = RO + 360*sign(RO);
%         end;
        
%         if
%             RO(i)(RO>180(i)) = -180+(RO(RO>180)-180);
%         else
%             RO(i)(RO<-180(i)) = 180+(RO(RO<-180)+180);
%             
%         end

    
        %err(i) = (respOri(i) - stimOri(i));
        %RO(i) = stimOri(i-1) - stimOri(i);
   
        
        
%         disp (err);
         
    end 
         

data=respOri;
sem=std(data)/sqrt(length(data));
std(err)

Var_err=var(err);


       figure;
       scatter (RO, err);
       
xlabel('relative orientation of previous trial'); % x-axis label
ylabel('error on current trial (deg)'); % y-axis label

%V = var(A)



    





    

    




